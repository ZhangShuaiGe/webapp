<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<meta name="HandheldFriendly" content="true"/>
		<meta name="MobileOptimized" content="320"/>
		<title>XMLHttpRequest</title>
		<script type="text/javascript">
			var xhr=null;
			function testXHR(){
				if(xhr){
					return;
				}
				xhr=new plus.net.XMLHttpRequest();
				xhr.onreadystatechange=function(){
					console.log("onreadystatechange: "+xhr.readyState);
					alert(xhr.readyState);
					if ( xhr.status == 200 ) {
		                alert( "xhr请求成功："+xhr.responseText );
		                document.getElementById("text").innerHTML = xhr.responseText;
	            	} else {
		                alert( "xhr请求失败："+xhr.readyState );
		            }
				}
				xhr.open( "POST", "http://demo.dcloud.net.cn/test/xhr/post.php" );
				var data={name:'HBuilder',version:'0.1.0'};
				// 发送HTTP请求
				xhr.send(JSON.stringify(data));
			}
		</script>
	</head>
	<body>
		<button onclick="testXHR()">XMLHttpRequest</button><br/>
		<div id="text">
			
		</div>
	</body>
</html>